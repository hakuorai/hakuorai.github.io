<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>DVD</title>
    </head>
    <script src="pixi/pixi.min.js"></script>
    <style>* {padding: 0; margin: 0}</style>
    <body>
        <script type="text/javascript">
            // Create the application helper and add its render target to the page
            let app = new PIXI.Application({ width: 512, height: 512 });
            document.body.appendChild(app.view);

            // 填充整个窗口
            app.renderer.view.style.position = "absolute";
            app.renderer.view.style.display = "block";
            app.renderer.autoResize = true;
            app.renderer.resize(window.innerWidth, window.innerHeight);
        
            var logo = PIXI.Sprite.from('images/dvd.png');
            
            // 异步，logo.width可能获取不到
            var MX = window.innerWidth - 486;
            var MY = window.innerHeight - 220;

            console.log("MX:", MX, "MY:", MY);
            console.log("logow:", logo.width, "logoh:", logo.height);

            const speed = 5;

            logo.x = Math.random() * MX;
            logo.y = Math.random() * MY;
            logo.vx = Math.random() * speed;
            logo.vy = Math.random() * speed;

            app.stage.addChild(logo);

            app.ticker.add((delta) => DVD());
            
            function DVD()
            {
                if (logo.x > MX || logo.x < 0)
                {
                    logo.vx *= -1;
                    logo.tint = Math.random() * 0xFFFFFF;
                }
                if (logo.y > MY || logo.y < 0)
                {
                    logo.vy *= -1;
                    logo.tint = Math.random() * 0xFFFFFF;
                }
                logo.x += logo.vx;
                logo.y += logo.vy;
            }

        </script>
    </body>
</html>